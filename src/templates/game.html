{% extends "base.html" %}

{% block content %}
<div class="game-container">
    <header class="game-header">
        <h1>üé≤ –ü–æ–∫–µ—Ä –Ω–∞ –∫–æ—Å—Ç—è—Ö</h1>
        <div class="game-info">
            <span id="round-info">–†–∞—É–Ω–¥: -/-</span>
            <span id="game-status">–°—Ç–∞—Ç—É—Å: -</span>
            <span id="game-id-display">ID: {{ game_id }}</span>
            <button id="leave-game" class="btn-secondary">–ü–æ–∫–∏–Ω—É—Ç—å –∏–≥—Ä—É</button>
        </div>
    </header>

    <div class="game-content">
        <!-- –¢–∞–±–ª–∏—Ü–∞ –∏–≥—Ä–æ–∫–æ–≤ -->
        <div class="players-panel">
            <h3>–ò–≥—Ä–æ–∫–∏</h3>
            <div id="players-list" class="players-list">
                <div class="player-item">
                    <span>–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                    <span class="player-score">0</span>
                </div>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–≥—Ä–æ–≤–∞—è –æ–±–ª–∞—Å—Ç—å -->
        <div class="game-area">
            <!-- –û–±–ª–∞—Å—Ç—å –±—Ä–æ—Å–∫–∞ -->
            <div class="dice-area">
                <h3>–¢–µ–∫—É—â–∏–π –±—Ä–æ—Å–æ–∫</h3>
                <div class="dice-container" id="dice-container">
                    <div class="dice-placeholder">
                        –û–∂–∏–¥–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã...
                    </div>
                </div>
                
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ -->
                <div class="combination-info">
                    <h3>–ö–æ–º–±–∏–Ω–∞—Ü–∏—è</h3>
                    <div id="combination-display" class="combination-display">
                        -
                    </div>
                </div>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–π -->
            <div id="lobby-controls" class="game-controls">
                <div class="controls-section">
                    <h3>–û–∂–∏–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤</h3>
                    <p>–ù–∞–∂–º–∏—Ç–µ "–ì–æ—Ç–æ–≤ –∫ –∏–≥—Ä–µ", –∫–æ–≥–¥–∞ –≤—Å–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è—Ç—Å—è</p>
                    <button id="ready-btn" class="btn-primary">–ì–æ—Ç–æ–≤ –∫ –∏–≥—Ä–µ</button>
                </div>
            </div>

            <div id="active-controls" class="game-controls" style="display: none;">
                <div class="controls-section">
                    <h3>üé≤ –í–∞—à —Ö–æ–¥!</h3>
                    <div class="instructions">
                        <h4>–ö–∞–∫ –∏–≥—Ä–∞—Ç—å:</h4>
                        <p>1. <strong>–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ—Å—Ç–∏</strong> - –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–±—Ä–æ—Å–∏—Ç—å</p>
                        <p>2. <strong>–ü–µ—Ä–µ–±—Ä–æ—Å—å—Ç–µ</strong> - –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–µ—Ä–µ–±—Ä–æ—Å–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ"</p>
                        <p>3. <strong>–ó–∞–≤–µ—Ä—à–∏—Ç–µ —Ö–æ–¥</strong> - –∫–æ–≥–¥–∞ –¥–æ–≤–æ–ª—å–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º</p>
                    </div>
                    
                    <div class="action-buttons">
                        <button id="reroll-btn" class="btn-primary">
                            üîÑ –ü–µ—Ä–µ–±—Ä–æ—Å–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ (<span id="rerolls-left">2</span>)
                        </button>
                        <button id="end-turn-btn" class="btn-success">‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ö–æ–¥</button>
                    </div>
                    
                    <div class="selection-info">
                        üéØ –í—ã–±—Ä–∞–Ω–æ –∫–æ—Å—Ç–µ–π: <span id="selected-count">0</span>
                        <br>
                        <small>–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–æ—Å—Ç–∏ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å/–æ—Ç–º–µ–Ω–∏—Ç—å –≤—ã–±–æ—Ä</small>
                    </div>
                </div>
            </div>

            <div id="waiting-controls" class="game-controls" style="display: none;">
                <div class="controls-section">
                    <h3>‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ —Ö–æ–¥–∞...</h3>
                    <p>–°–µ–π—á–∞—Å —Ö–æ–¥–∏—Ç: <span id="current-player-name">-</span></p>
                    <div class="loading-spinner"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
<div id="results-modal" class="modal" style="display: none;">
    <div class="modal-content">
        <h2>üéâ –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! üéâ</h2>
        <div id="winner-info" class="winner-info"></div>
        <div id="final-scores" class="final-scores"></div>
        <button id="new-game-btn" class="btn-primary">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
    </div>
</div>
{% endblock %}